<div class="newList">

    <h3 class="listTitle">Nieuwe lijst</h3>

    <div class="alert alert-info" role="alert"><strong>Let op!</strong> Als er al een root lijst bestaat dan wordt deze overschreven.</div>

    <div class="checkbox">
        <label><input type="checkbox" ng-model="root" value="">Root lijst</label>
    </div>

    <input type="text" class="form-control" ng-model="listTitle" placeholder="Titel van de lijst">

    <div class="list panel panel-default">
        <div class="panel-body">

            <form class="clearfix" name="addItemForm" ng-submit="addListItem()">
                <input type="text" ng-model="newListItemTitle" class="form-control" placeholder="Titel van het lijst item">

                <input type="text"
                       ng-model="newListItemLink"
                       uib-typeahead="list for list in activeLists | filter: $viewValue | limitTo: 5"
                       class="form-control"
                       placeholder="Link naar lijst">

                <input class="newImage" accept="image/*" type="file" file-input="newListItemImageElement" />

                <button type="submit" ng-disabled="checkingList" class="btn btn-primary">Voeg toe<span ng-show="checkingList" class="addListItemLoader" loader></span></button>

                <div ng-show="showAlert" class="alert alert-danger" role="alert"><strong>Woops!</strong> Vul een title en een correcte link in en probeer opnieuw.</div>
            </form>

            <ul class="list-group">

                <li class="list-group-item clearfix" ng-repeat="item in listItems">

                    <form ng-show="item.editMode" name="addItemForm" ng-submit="updateListItem(item)">
                        <input type="text" ng-model="item.title" class="form-control" placeholder="Titel van het lijst item">

                        <input type="text"
                               ng-model="item.link"
                               uib-typeahead="list for list in activeLists | filter: $viewValue | limitTo: 5"
                               class="form-control"
                               placeholder="Link naar lijst">

                        <input accept="image/*" type="file" file-input="item.image" />

                        <button type="submit" ng-disabled="item.checkingList" class="btn btn-primary">Update<span ng-show="item.checkingList" class="addListItemLoader" loader></span></button>

                        <div ng-show="item.showAlert" class="alert alert-danger" role="alert"><strong>Woops!</strong> Vul een title en een correcte link in en probeer opnieuw.</div>
                    </form>

                    <div ng-show="!item.editMode">

                        <div class="noEditMode">
                            <div class="">{{item.title}}</div>
                            <a ng-click="routeList(item.linkUrl)" href="">{{item.link}}</a>
                            <div>{{item.filename}}</div>
                        </div>

                        <div class="options">

                            <a href="" ng-click="toggleEdit(item)" class="glyphicon glyphicon-pencil" aria-hidden="true"></a>
                            <a href="" ng-click="remove(item)" class="glyphicon glyphicon-remove" aria-hidden="true"></a>

                        </div>

                    </div>

                </li>

            </ul>

        </div>
    </div>

    <button type="button" ng-disabled="listSaveBusy" class="save btn btn-success" ng-click="saveList()">Opslaan<span ng-show="listSaveBusy" class="addListItemLoader" loader></button>

</div>